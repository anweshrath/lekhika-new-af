# Lekhika VPS Execution Worker Environment Variables

# Server Configuration
PORT=3001
NODE_ENV=production
WORKER_ID=lekhika-vps-worker-001

# Supabase Configuration (REQUIRED)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Worker Configuration
MAX_CONCURRENT_EXECUTIONS=5
EXECUTION_TIMEOUT=300000
RETRY_ATTEMPTS=3
RETRY_DELAY=5000

# Queue configuration (feature-flagged)
# When QUEUE_ENABLED=false, /execute runs synchronously as before.
# When true, /execute enqueues to Redis and queueWorker.js processes jobs.
QUEUE_ENABLED=false
QUEUE_PROVIDER=redis
REDIS_URL=redis://127.0.0.1:6379
QUEUE_PREFIX=lekhika
QUEUE_CONCURRENCY=2
QUEUE_ATTEMPTS=3
QUEUE_BACKOFF_MS=30000

# Logging
LOG_LEVEL=info
LOG_FILE_PATH=/var/log/lekhika-worker.log

# Security
API_SECRET_KEY=your-secure-api-secret
ALLOWED_ORIGINS=https://app.lekhika.online,https://app.copyalche.my

# Database Polling
POLL_INTERVAL=5000
HEALTH_CHECK_INTERVAL=30000

# NOTE: AI API Keys are loaded from Supabase database
# No need to configure them here - they're managed in SuperAdmin
